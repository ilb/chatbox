<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1170px" preserveAspectRatio="none" style="width:1147px;height:1170px;" version="1.1" viewBox="0 0 1147 1170" width="1147px" zoomAndPan="magnify"><defs><filter height="300%" id="fkkdtjtbpjwbd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[77d0e787bde9647828dee0215534d898]
cluster Отношения--><polygon fill="#FFFFFF" filter="url(#fkkdtjtbpjwbd)" points="628,16,714,16,721,38.4063,1125,38.4063,1125,1034.5,628,1034.5,628,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="628" x2="721" y1="38.4063" y2="38.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="80" x="632" y="30.9883">Отношения</text><!--MD5=[9e46c0162bde7143ac9de726ae46258e]
cluster Контакты--><polygon fill="#FFFFFF" filter="url(#fkkdtjtbpjwbd)" points="324,370,402,370,409,392.4063,620,392.4063,620,1158,324,1158,324,370" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="324" x2="409" y1="392.4063" y2="392.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="328" y="384.9883">Контакты</text><!--MD5=[a0352712327b9fb15fb7b4d9a647d823]
cluster Досье--><polygon fill="#FFFFFF" filter="url(#fkkdtjtbpjwbd)" points="14,206,64,206,71,228.4063,316,228.4063,316,1041,14,1041,14,206" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="71" y1="228.4063" y2="228.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="18" y="220.9883">Досье</text><!--MD5=[3fd616f346a44cd59a91eb10b19e157c]
class User--><rect fill="#FEFECE" filter="url(#fkkdtjtbpjwbd)" height="79.9063" id="User" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="942.5" y="228.5"/><ellipse cx="957.5" cy="247.5625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M957.5469,253.7656 C959.0469,253.7656 960.2813,253.2031 961.1875,252.1406 L959.8125,250.625 C959.2656,251.2188 958.6094,251.6094 957.8125,251.6094 C956.1406,251.6094 954.9844,250.2813 954.9844,248 C954.9844,245.7813 956.1406,244.4375 957.7031,244.4375 C958.5156,244.4375 959.1094,244.75 959.6406,245.2344 L961.0156,243.6875 C960.2656,242.9531 959.1094,242.2813 957.7031,242.2813 C954.75,242.2813 952.4219,244.4219 952.4219,248.0938 C952.4219,251.8125 954.7969,253.7656 957.5469,253.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="91" x="969.5" y="244.6328">«Пользователь»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="25" x="1002.5" y="258.6953">User</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="943.5" x2="1060.5" y1="266.625" y2="266.625"/><ellipse cx="953.5" cy="277.625" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="962.5" y="280.8301">code</text><ellipse cx="953.5" cy="290.5156" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="962.5" y="293.7207">name</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="943.5" x2="1060.5" y1="300.4063" y2="300.4063"/><path d="M927,43 L927,98.7031 A0,0 0 0 0 927,98.7031 L1015.1345,98.7031 L1006.0731,228.2781 L1023.1345,98.7031 L1117,98.7031 A0,0 0 0 0 1117,98.7031 L1117,53 L1107,43 L927,43 A0,0 0 0 0 927,43 " fill="#FBFB77" filter="url(#fkkdtjtbpjwbd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1107,43 L1107,53 L1117,53 L1107,43 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="933" y="60.0605">Пользователь может быть</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="933" y="75.2949">внутренним (LDAP)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="933" y="90.5293">и внешним (publogin)</text><!--MD5=[534474e9f05b14d7c70186ae077f30e0]
class Relation--><rect fill="#FEFECE" filter="url(#fkkdtjtbpjwbd)" height="92.7969" id="Relation" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="712.5" y="222"/><ellipse cx="727.5" cy="241.0625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M727.5469,247.2656 C729.0469,247.2656 730.2813,246.7031 731.1875,245.6406 L729.8125,244.125 C729.2656,244.7188 728.6094,245.1094 727.8125,245.1094 C726.1406,245.1094 724.9844,243.7813 724.9844,241.5 C724.9844,239.2813 726.1406,237.9375 727.7031,237.9375 C728.5156,237.9375 729.1094,238.25 729.6406,238.7344 L731.0156,237.1875 C730.2656,236.4531 729.1094,235.7813 727.7031,235.7813 C724.75,235.7813 722.4219,237.9219 722.4219,241.5938 C722.4219,245.3125 724.7969,247.2656 727.5469,247.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="75" x="739.5" y="238.1328">«Отношение»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="45" x="754.5" y="252.1953">Relation</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="713.5" x2="814.5" y1="260.125" y2="260.125"/><ellipse cx="723.5" cy="271.125" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="17" x="732.5" y="274.3301">uid</text><ellipse cx="723.5" cy="284.0156" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="732.5" y="287.2207">code</text><ellipse cx="723.5" cy="296.9063" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="732.5" y="300.1113">name</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="713.5" x2="814.5" y1="306.7969" y2="306.7969"/><path d="M636.5,51 L636.5,91.4688 A0,0 0 0 0 636.5,91.4688 L760,91.4688 L764,221.619 L768,91.4688 L891.5,91.4688 A0,0 0 0 0 891.5,91.4688 L891.5,61 L881.5,51 L636.5,51 A0,0 0 0 0 636.5,51 " fill="#FBFB77" filter="url(#fkkdtjtbpjwbd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M881.5,51 L881.5,61 L891.5,61 L881.5,51 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="642.5" y="68.0605">Пример "Отношения" - сделка,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="642.5" y="83.2949">в которой есть различные участники:</text><!--MD5=[f2e66a8a0dc65517430edbb35efa336f]
class RelationMemberRole--><rect fill="#FEFECE" filter="url(#fkkdtjtbpjwbd)" height="79.9063" id="RelationMemberRole" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="656" y="946.5"/><ellipse cx="671" cy="965.5625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M671.0469,971.7656 C672.5469,971.7656 673.7813,971.2031 674.6875,970.1406 L673.3125,968.625 C672.7656,969.2188 672.1094,969.6094 671.3125,969.6094 C669.6406,969.6094 668.4844,968.2813 668.4844,966 C668.4844,963.7813 669.6406,962.4375 671.2031,962.4375 C672.0156,962.4375 672.6094,962.75 673.1406,963.2344 L674.5156,961.6875 C673.7656,960.9531 672.6094,960.2813 671.2031,960.2813 C668.25,960.2813 665.9219,962.4219 665.9219,966.0938 C665.9219,969.8125 668.2969,971.7656 671.0469,971.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="39" x="721.5" y="962.6328">«Роль»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="112" x="685" y="976.6953">RelationMemberRole</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="657" x2="799" y1="984.625" y2="984.625"/><ellipse cx="667" cy="995.625" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="676" y="998.8301">code</text><ellipse cx="667" cy="1008.5156" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="676" y="1011.7207">name</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="657" x2="799" y1="1018.4063" y2="1018.4063"/><!--MD5=[4d3f4261bb04900501d7a623ddd65e4c]
class RelationMember--><rect fill="#FEFECE" filter="url(#fkkdtjtbpjwbd)" height="118.5781" id="RelationMember" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="799.5" y="580"/><ellipse cx="832.05" cy="599.0625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M832.0969,605.2656 C833.5969,605.2656 834.8313,604.7031 835.7375,603.6406 L834.3625,602.125 C833.8156,602.7188 833.1594,603.1094 832.3625,603.1094 C830.6906,603.1094 829.5344,601.7813 829.5344,599.5 C829.5344,597.2813 830.6906,595.9375 832.2531,595.9375 C833.0656,595.9375 833.6594,596.25 834.1906,596.7344 L835.5656,595.1875 C834.8156,594.4531 833.6594,593.7813 832.2531,593.7813 C829.3,593.7813 826.9719,595.9219 826.9719,599.5938 C826.9719,603.3125 829.3469,605.2656 832.0969,605.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="128" x="847.95" y="596.1328">«Участник отношения»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="867.95" y="610.1953">RelationMember</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="800.5" x2="993.5" y1="618.125" y2="618.125"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="805.5" y="632.3301">user: User</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="805.5" y="645.2207">relation: Relation</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="805.5" y="658.1113">role: RelationMemberRole «Роль»</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="805.5" y="671.002">begDate: DateTime</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="805.5" y="683.8926">endDate: DateTime</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="800.5" x2="993.5" y1="690.5781" y2="690.5781"/><path d="M835,958.5 L835,1014.2031 A0,0 0 0 0 835,1014.2031 L1097,1014.2031 A0,0 0 0 0 1097,1014.2031 L1097,968.5 L1087,958.5 L964.3731,958.5 L908.8615,699.1514 L956.3731,958.5 L835,958.5 A0,0 0 0 0 835,958.5 " fill="#FBFB77" filter="url(#fkkdtjtbpjwbd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1087,958.5 L1087,968.5 L1097,968.5 L1087,958.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="841" y="975.5605">В сделке есть различные участники:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="241" x="841" y="990.7949">Клиент, Агент (сотрудник автосалона),</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="841" y="1006.0293">Менеджер банка и т.д.</text><!--MD5=[2ca1536628238a7dc78c5d90808014f9]
class Session--><rect fill="#FEFECE" filter="url(#fkkdtjtbpjwbd)" height="105.6875" id="Session" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="413.5" y="397"/><ellipse cx="433.45" cy="416.0625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M433.4969,422.2656 C434.9969,422.2656 436.2313,421.7031 437.1375,420.6406 L435.7625,419.125 C435.2156,419.7188 434.5594,420.1094 433.7625,420.1094 C432.0906,420.1094 430.9344,418.7813 430.9344,416.5 C430.9344,414.2813 432.0906,412.9375 433.6531,412.9375 C434.4656,412.9375 435.0594,413.25 435.5906,413.7344 L436.9656,412.1875 C436.2156,411.4531 435.0594,410.7813 433.6531,410.7813 C430.7,410.7813 428.3719,412.9219 428.3719,416.5938 C428.3719,420.3125 430.7469,422.2656 433.4969,422.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="78" x="446.55" y="413.1328">«Сессия чата»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="44" x="463.55" y="427.1953">Session</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="414.5" x2="529.5" y1="435.125" y2="435.125"/><ellipse cx="424.5" cy="446.125" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="17" x="433.5" y="449.3301">uid</text><ellipse cx="424.5" cy="459.0156" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="433.5" y="462.2207">begDate</text><ellipse cx="424.5" cy="471.9063" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="433.5" y="475.1113">direction</text><ellipse cx="424.5" cy="484.7969" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="433.5" y="488.002">relation: Relation</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="414.5" x2="529.5" y1="494.6875" y2="494.6875"/><!--MD5=[ac13618b1a974308c1f12eb6c57723dc]
class Event--><rect fill="#FEFECE" filter="url(#fkkdtjtbpjwbd)" height="118.5781" id="Event" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="415.5" y="760"/><ellipse cx="441.3" cy="779.0625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M441.3469,785.2656 C442.8469,785.2656 444.0813,784.7031 444.9875,783.6406 L443.6125,782.125 C443.0656,782.7188 442.4094,783.1094 441.6125,783.1094 C439.9406,783.1094 438.7844,781.7813 438.7844,779.5 C438.7844,777.2813 439.9406,775.9375 441.5031,775.9375 C442.3156,775.9375 442.9094,776.25 443.4406,776.7344 L444.8156,775.1875 C444.0656,774.4531 442.9094,773.7813 441.5031,773.7813 C438.55,773.7813 436.2219,775.9219 436.2219,779.5938 C436.2219,783.3125 438.5969,785.2656 441.3469,785.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61" x="455.7" y="776.1328">«Событие»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="30" x="471.2" y="790.1953">Event</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="416.5" x2="527.5" y1="798.125" y2="798.125"/><ellipse cx="426.5" cy="809.125" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="435.5" y="812.3301">date</text><ellipse cx="426.5" cy="822.0156" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="435.5" y="825.2207">author</text><ellipse cx="426.5" cy="834.9063" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="435.5" y="838.1113">text</text><ellipse cx="426.5" cy="847.7969" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="435.5" y="851.002">attachments[]</text><ellipse cx="426.5" cy="860.6875" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="435.5" y="863.8926">relationMember</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="416.5" x2="527.5" y1="870.5781" y2="870.5781"/><path d="M332.5,1094 L332.5,1149.7031 A0,0 0 0 0 332.5,1149.7031 L611.5,1149.7031 A0,0 0 0 0 611.5,1149.7031 L611.5,1104 L601.5,1094 L476,1094 L472,879.2643 L468,1094 L332.5,1094 A0,0 0 0 0 332.5,1094 " fill="#FBFB77" filter="url(#fkkdtjtbpjwbd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M601.5,1094 L601.5,1104 L611.5,1104 L601.5,1094 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="338.5" y="1111.0605">Событие - это запись в чате с</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="338.5" y="1126.2949">текстом и опциональными вложениями</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="258" x="338.5" y="1141.5293">Вложения вкладываются в досье сделки</text><!--MD5=[6b9c7493e62321612c590821345ace4f]
class Dossier--><rect fill="#FEFECE" filter="url(#fkkdtjtbpjwbd)" height="67.0156" id="Dossier" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="114.5" y="606"/><ellipse cx="129.5" cy="625.0625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M129.5469,631.2656 C131.0469,631.2656 132.2813,630.7031 133.1875,629.6406 L131.8125,628.125 C131.2656,628.7188 130.6094,629.1094 129.8125,629.1094 C128.1406,629.1094 126.9844,627.7813 126.9844,625.5 C126.9844,623.2813 128.1406,621.9375 129.7031,621.9375 C130.5156,621.9375 131.1094,622.25 131.6406,622.7344 L133.0156,621.1875 C132.2656,620.4531 131.1094,619.7813 129.7031,619.7813 C126.75,619.7813 124.4219,621.9219 124.4219,625.5938 C124.4219,629.3125 126.7969,631.2656 129.5469,631.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="73" x="141.5" y="622.1328">«Досье чата»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="42" x="157" y="636.1953">Dossier</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="115.5" x2="214.5" y1="644.125" y2="644.125"/><ellipse cx="125.5" cy="655.125" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="17" x="134.5" y="658.3301">uid</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="115.5" x2="214.5" y1="665.0156" y2="665.0156"/><path d="M44.5,233 L44.5,303.9375 A0,0 0 0 0 44.5,303.9375 L161,303.9375 L165,605.9155 L169,303.9375 L285.5,303.9375 A0,0 0 0 0 285.5,303.9375 L285.5,243 L275.5,233 L44.5,233 A0,0 0 0 0 44.5,233 " fill="#FBFB77" filter="url(#fkkdtjtbpjwbd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M275.5,233 L275.5,243 L285.5,243 L275.5,233 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="50.5" y="250.0605">Все полученные в чате файлы</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="50.5" y="265.2949">Сохраняются в досье чата,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="50.5" y="280.5293">из которого они будут помещаться</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="50.5" y="295.7637">в кредитное досье для проверки</text><!--MD5=[35c0db5d75d5a8c4fe707f09884693dc]
class DossierFile--><rect fill="#FEFECE" filter="url(#fkkdtjtbpjwbd)" height="92.7969" id="DossierFile" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="22" y="940"/><ellipse cx="37" cy="959.0625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M37.0469,965.2656 C38.5469,965.2656 39.7813,964.7031 40.6875,963.6406 L39.3125,962.125 C38.7656,962.7188 38.1094,963.1094 37.3125,963.1094 C35.6406,963.1094 34.4844,961.7813 34.4844,959.5 C34.4844,957.2813 35.6406,955.9375 37.2031,955.9375 C38.0156,955.9375 38.6094,956.25 39.1406,956.7344 L40.5156,955.1875 C39.7656,954.4531 38.6094,953.7813 37.2031,953.7813 C34.25,953.7813 31.9219,955.9219 31.9219,959.5938 C31.9219,963.3125 34.2969,965.2656 37.0469,965.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="49" y="956.1328">«Файл досье»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="57" y="970.1953">DossierFile</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23" x2="125" y1="978.125" y2="978.125"/><ellipse cx="33" cy="989.125" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="42" y="992.3301">date</text><ellipse cx="33" cy="1002.0156" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="42" y="1005.2207">name</text><ellipse cx="33" cy="1014.9063" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="42" y="1018.1113">content</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23" x2="125" y1="1024.7969" y2="1024.7969"/><!--MD5=[8c7faf5151f200e05c3388af8c5f6ba8]
link RelationMember to RelationMemberRole--><path d="M867.9479,699.1514 C833.5957,769.6853 777.3538,885.164 747.7094,946.0315 " fill="none" id="RelationMember-RelationMemberRole" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="743.2928" y="935.4732">1</text><!--MD5=[ed03198c2b12b7aa0fa06c7567250247]
reverse link User to RelationMember--><path d="M987.1134,321.0992 C967.7922,389.3674 934.1601,508.201 913.9002,579.7858 " fill="none" id="User&lt;-RelationMember" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="990.6634,308.556,985.1806,313.2399,987.3955,320.1025,992.8782,315.4185,990.6634,308.556" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="974" y="454.5605">содержит</text><polygon fill="#000000" points="1000.5,463.7344,1003.5,469.7344,1006.5,463.7344,1000.5,463.7344" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="981.2061" y="328.5202">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="11" x="904.2896" y="568.6946">M</text><!--MD5=[01a039452a05781d749b516b8da7a964]
reverse link Relation to RelationMember--><path d="M785.1429,327.4776 C809.9249,396.6062 850.7609,510.5172 875.6373,579.9093 " fill="none" id="Relation&lt;-RelationMember" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="780.7099,315.1117,778.9693,322.1096,784.7594,326.4078,786.5,319.4099,780.7099,315.1117" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="849" y="454.5605">содержит</text><polygon fill="#000000" points="875.5,463.7344,878.5,469.7344,881.5,463.7344,875.5,463.7344" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="775.5675" y="334.8125">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="11" x="861.3634" y="568.8332">M</text><!--MD5=[29931f6831ef65ce7a374b33a13516d7]
reverse link Session to Event--><path d="M472,516.648 C472,585.8748 472,693.1927 472,759.7497 " fill="none" id="Session&lt;-Event" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="472,503.3339,468,509.3339,472,515.3339,476,509.3339,472,503.3339" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="473" y="644.0605">содержит</text><polygon fill="#000000" points="499.5,653.2344,502.5,659.2344,505.5,653.2344,499.5,653.2344" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="464.5734" y="522.8419">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="11" x="460.3297" y="748.6541">M</text><!--MD5=[fba71a46767f5cfb3795e997a9cfa8b1]
reverse link Relation to Session--><path d="M699.6,273.9929 C645.5521,281.7181 569.321,300.3021 519,345 C503.62,358.6613 493.0077,378.327 485.8164,396.9539 " fill="none" id="Relation&lt;-Session" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="712.4898,272.2949,706.0188,269.1128,700.5926,273.8622,707.0636,277.0443,712.4898,272.2949" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="527,352.1172,521,355.1172,527,358.1172,527,352.1172" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="533" y="358.0605">по сделке может быть 1 и более чатов</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="697.4102" y="268.8434">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="11" x="475.9339" y="385.9153">M</text><!--MD5=[4ec17199809f198934e93d2efc6e12bc]
reverse link Dossier to DossierFile--><path d="M116.7876,682.428 C96.6743,703.542 75.5638,730.7288 65,760 C43.6252,819.2273 52.4845,892.897 62.1348,939.8205 " fill="none" id="Dossier&lt;-DossierFile" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="125.9172,673.1686,118.8563,674.6327,117.492,681.7135,124.5529,680.2495,125.9172,673.1686" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="66" y="824.0605">в досье может быть 1 и более файлов</text><polygon fill="#000000" points="179.5,833.2344,182.5,839.2344,185.5,833.2344,179.5,833.2344" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="110.7999" y="693.0978">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="11" x="48.5843" y="928.9556">M</text><!--MD5=[cdf3050bd820115b2952e6583794b817]
link Session to Dossier--><path d="M413.2151,485.351 C388.9489,500.0121 360.5704,517.2459 335,533 C294.8225,557.7537 249.5502,586.1398 215.8325,607.3782 " fill="none" id="Session-Dossier" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="336" y="546.0605">чат содержит досье</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="398.6241" y="485.8392">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="223.473" y="598.8823">1</text><!--MD5=[8a1f667b671feeb502c4c63d3fbcf0e0]
@startuml model

package "Отношения" {
  
  class User<<Пользователь>>{
    + code
    + name
  }
  note top of User
    Пользователь может быть
    внутренним (LDAP) 
    и внешним (publogin) 
  end note

  class Relation <<Отношение>>{
    + uid
    + code
    + name
  }

  note top of Relation
    Пример "Отношения" - сделка,
    в которой есть различные участники:
  end note
  

  class RelationMemberRole <<Роль>>{
    + code
    + name
  }

  RelationMember .. "1" RelationMemberRole

  class RelationMember<<Участник отношения>> {
    user: User
    relation: Relation
    role: RelationMemberRole <<Роль>>
    begDate: DateTime
    endDate: DateTime
  }
  note bottom of RelationMember
    В сделке есть различные участники:
    Клиент, Агент (сотрудник автосалона),
    Менеджер банка и т.д.
  end note

  User "1" *- - "M" RelationMember : содержит >
  Relation "1" *- - "M" RelationMember : содержит >

}


package "Контакты" {
  class Session <<Сессия чата>>{
    + uid
    + begDate
    + direction
    + relation: Relation
  }

  class Event <<Событие>>{
    + date
    + author
    + text
    + attachments[]
    + relationMember
  }

  note bottom of Event
    Событие - это запись в чате с
    текстом и опциональными вложениями
    Вложения вкладываются в досье сделки
  end note
  Session "1" *- - "M" Event : содержит >

}

Relation "1" *- - "M" Session : по сделке может быть 1 и более чатов >


package "Досье" {
  class Dossier <<Досье чата>>{
    + uid
  }
  note top of Dossier
    Все полученные в чате файлы
    Сохраняются в досье чата,
    из которого они будут помещаться 
    в кредитное досье для проверки
  end note

  class DossierFile <<Файл досье>>{
    + date
    + name
    + content
  }


  Dossier "1" *- - "M" DossierFile : в досье может быть 1 и более файлов >

}
Session "1" - - "1" Dossier: чат содержит досье

@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 SAMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.10+9-suse-lp152.2.9.1-x8664
Operating System: Linux
Default Encoding: UTF-8
Language: ru
Country: RU
--></g></svg>